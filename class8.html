<style>
  /* --- GLOBAL APP STYLES --- */
  :root {
    --primary: #2563eb;
    --success: #10b981;
    --danger: #ef4444;
    --bg-grey: #f8fafc;
    --text-dark: #1e293b;
  }
  
  body { font-family: 'Inter', sans-serif; color: var(--text-dark); }

  /* --- NAVIGATION & SECTIONS --- */
  .course-section { display: none; padding-bottom: 50px; }
  .course-section.active { display: block; animation: slideUp 0.3s ease-out; }
  @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

  /* --- SUBJECT GRID (HOME) --- */
  .subject-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 10px; }
  .subject-card {
    background: white; padding: 20px; border-radius: 15px; text-align: center;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); border: 1px solid #e2e8f0; cursor: pointer;
  }
  .subject-card:active { transform: scale(0.96); background: #f1f5f9; }
  .subject-icon { font-size: 36px; margin-bottom: 12px; display: block; }

  /* --- TOPIC LISTS --- */
  .topic-item {
    background: white; padding: 16px; border-radius: 10px; margin-bottom: 12px;
    border-left: 5px solid var(--primary); cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center;
  }
  .topic-item:active { background: #f0f9ff; }
  .topic-meta { font-size: 12px; color: #64748b; margin-top: 4px; display: block; }

  /* --- CONTENT PAGE --- */
  .video-wrapper {
    position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;
    border-radius: 12px; background: black; margin-bottom: 20px;
  }
  .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

  .content-box { background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #e2e8f0; }
  .eli5-box { background: #eff6ff; border: 1px dashed #2563eb; }
  
  h3.concept-title { margin-top: 0; font-size: 18px; color: var(--primary); display: flex; align-items: center; }
  h3.concept-title i { margin-right: 10px; }
  
  p { line-height: 1.6; color: #334155; margin-bottom: 0; }

  /* --- QUIZ ENGINE --- */
  .quiz-container { background: white; border-radius: 12px; padding: 20px; border-top: 5px solid var(--primary); }
  .question-block { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #f1f5f9; }
  .q-text { font-weight: 600; margin-bottom: 10px; display: block; }
  
  .option-label {
    display: flex; align-items: center; padding: 10px; border-radius: 8px;
    background: #f8fafc; margin-bottom: 8px; cursor: pointer; border: 1px solid transparent;
  }
  .option-label:has(input:checked) { background: #e0f2fe; border-color: var(--primary); }
  .option-label input { margin-right: 10px; }

  .submit-btn {
    width: 100%; background: var(--primary); color: white; padding: 15px;
    border: none; border-radius: 10px; font-weight: bold; font-size: 16px; margin-top: 10px;
  }
  
  .score-card { 
    display: none; text-align: center; padding: 20px; background: #ecfdf5; 
    border: 2px solid var(--success); border-radius: 10px; margin-top: 20px; 
  }
</style>

<div id="section-home" class="course-section active">
  <div style="padding: 10px 10px 20px 10px;">
    <h2 style="margin:0;">Class 8</h2>
    <p style="color:#64748b; margin:0;">Select a subject to begin</p>
  </div>

  <div class="subject-grid">
    <div class="subject-card" onclick="goToSection('maths-list')">
      <i class="fas fa-square-root-alt subject-icon" style="color:#2563eb;"></i>
      <strong>Maths</strong>
    </div>
    <div class="subject-card" onclick="goToSection('science-list')">
      <i class="fas fa-atom subject-icon" style="color:#10b981;"></i>
      <strong>Science</strong>
    </div>
    <div class="subject-card" onclick="goToSection('social-list')">
      <i class="fas fa-globe subject-icon" style="color:#f59e0b;"></i>
      <strong>Social Sc.</strong>
    </div>
  </div>
</div>

<div id="section-maths-list" class="course-section">
  <h3 style="padding:10px;">Mathematics</h3>
  
  <div class="topic-item" onclick="goToSection('maths-ch1')">
    <div>
      <strong>1. Rational Numbers</strong>
      <span class="topic-meta">Video • Notes • Quiz</span>
    </div>
    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
  </div>
  
  <div class="topic-item" onclick="goToSection('maths-ch2')">
    <div>
      <strong>2. Linear Equations</strong>
      <span class="topic-meta">Video • Notes • Quiz</span>
    </div>
    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
  </div>
</div>

<div id="section-science-list" class="course-section">
  <h3 style="padding:10px;">Science</h3>
  
  <div class="topic-item" onclick="goToSection('science-ch1')">
    <div>
      <strong>1. Crop Production</strong>
      <span class="topic-meta">Biology • Agriculture</span>
    </div>
    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
  </div>
  
  <div class="topic-item" onclick="goToSection('science-ch2')">
    <div>
      <strong>2. Microorganisms</strong>
      <span class="topic-meta">Biology • Health</span>
    </div>
    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
  </div>
</div>

<div id="section-social-list" class="course-section">
  <h3 style="padding:10px;">Social Science</h3>
  <div class="topic-item" onclick="goToSection('social-ch1')">
    <div>
      <strong>1. The Indian Constitution</strong>
      <span class="topic-meta">Civics • Law</span>
    </div>
    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
  </div>
</div>


<div id="section-maths-ch1" class="course-section">
  <h3>Rational Numbers</h3>
  
  <div class="video-wrapper">
    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ?rel=0" frameborder="0" allowfullscreen></iframe>
  </div>

  <div class="content-box">
    <h3 class="concept-title"><i class="fas fa-book"></i> Standard Definition</h3>
    <p>A rational number is a number that can be expressed in the form <strong>p/q</strong>, where p and q are integers and q is not equal to zero. The set of rational numbers includes integers, fractions, and terminating or repeating decimals.</p>
  </div>

  <div class="content-box eli5-box">
    <h3 class="concept-title"><i class="fas fa-child"></i> ELI5 (Simply Put)</h3>
    <p>Imagine a pizza. If you cut it into slices, say 8 slices, and take 3, you have 3/8 of a pizza. Any number that you can write as a simple fraction like that is a "Rational Number". Even whole numbers like 5 are rational because you can write them as 5/1!</p>
  </div>

  <div class="quiz-container">
    <h3><i class="fas fa-clipboard-check"></i> 10 Question Quiz</h3>
    <form id="quiz-maths-1" onsubmit="return false;">
      
      <div class="question-block">
        <span class="q-text">1. Which form represents a rational number?</span>
        <label class="option-label"><input type="radio" name="q1" value="a"> p/q where q ≠ 0</label>
        <label class="option-label"><input type="radio" name="q1" value="b"> p/q where p ≠ 0</label>
        <label class="option-label"><input type="radio" name="q1" value="c"> p/q where q = 0</label>
      </div>

      <div class="question-block">
        <span class="q-text">2. Is 0 a rational number?</span>
        <label class="option-label"><input type="radio" name="q2" value="a"> Yes</label>
        <label class="option-label"><input type="radio" name="q2" value="b"> No</label>
      </div>

      <div class="question-block"><span class="q-text">3. What is the additive identity of rational numbers?</span>
        <label class="option-label"><input type="radio" name="q3" value="a"> 1</label>
        <label class="option-label"><input type="radio" name="q3" value="b"> 0</label>
      </div>
      <div class="question-block"><span class="q-text">4. The multiplicative inverse of a is:</span>
        <label class="option-label"><input type="radio" name="q4" value="a"> -a</label>
        <label class="option-label"><input type="radio" name="q4" value="b"> 1/a</label>
      </div>
       <div class="question-block"><span class="q-text">5. Rational numbers are closed under:</span>
        <label class="option-label"><input type="radio" name="q5" value="a"> Addition only</label>
        <label class="option-label"><input type="radio" name="q5" value="b"> Add, Sub, Mult</label>
      </div>
      <div class="question-block"><span class="q-text">6. Value of 1/2 + 1/4 is:</span>
        <label class="option-label"><input type="radio" name="q6" value="a"> 3/4</label>
        <label class="option-label"><input type="radio" name="q6" value="b"> 2/6</label>
      </div>
      <div class="question-block"><span class="q-text">7. Reciprocal of -1 is:</span>
        <label class="option-label"><input type="radio" name="q7" value="a"> 1</label>
        <label class="option-label"><input type="radio" name="q7" value="b"> -1</label>
      </div>
      <div class="question-block"><span class="q-text">8. Is π (Pi) a rational number?</span>
        <label class="option-label"><input type="radio" name="q8" value="a"> Yes</label>
        <label class="option-label"><input type="radio" name="q8" value="b"> No</label>
      </div>
      <div class="question-block"><span class="q-text">9. Which is not rational?</span>
        <label class="option-label"><input type="radio" name="q9" value="a"> 22/7</label>
        <label class="option-label"><input type="radio" name="q9" value="b"> √2</label>
      </div>
      <div class="question-block"><span class="q-text">10. Additive inverse of 5 is:</span>
        <label class="option-label"><input type="radio" name="q10" value="a"> -5</label>
        <label class="option-label"><input type="radio" name="q10" value="b"> 1/5</label>
      </div>

      <button class="submit-btn" onclick="checkQuiz('quiz-maths-1', ['a','a','b','b','b','a','b','b','b','a'])">Submit Quiz</button>
      
      <div id="result-quiz-maths-1" class="score-card">
        <h3>Your Score</h3>
        <h1 id="score-val-quiz-maths-1" style="font-size:40px; margin:10px 0;">0/10</h1>
        <p id="msg-quiz-maths-1"></p>
      </div>
    </form>
  </div>
</div>


<div id="section-science-ch1" class="course-section">
  <h3>Crop Production</h3>
  
  <div class="video-wrapper">
    <iframe src="https://www.youtube.com/embed/ScMzIvxBSi4?rel=0" frameborder="0" allowfullscreen></iframe>
  </div>

  <div class="content-box">
    <h3 class="concept-title"><i class="fas fa-book"></i> Textbook Explanation</h3>
    <p>Crop production involves agricultural practices such as preparation of soil, sowing, adding manure and fertilizers, irrigation, and harvesting. Crops are classified as Kharif (rainy season) and Rabi (winter season).</p>
  </div>

  <div class="content-box eli5-box">
    <h3 class="concept-title"><i class="fas fa-child"></i> ELI5 (Simply Put)</h3>
    <p>Growing food is like baking a cake but on a giant field. First, you mix the batter (Preparing soil), put it in the pan (Sowing seeds), give it heat (Sunlight) and water (Irrigation), and finally, when it's ready, you take it out (Harvesting)!</p>
  </div>

  <div class="quiz-container">
    <h3><i class="fas fa-flask"></i> 10 Question Quiz</h3>
    <form id="quiz-sci-1" onsubmit="return false;">
      
      <div class="question-block"><span class="q-text">1. Kharif crops are grown in:</span>
        <label class="option-label"><input type="radio" name="q1" value="a"> Winter</label>
        <label class="option-label"><input type="radio" name="q1" value="b"> Rainy Season</label>
      </div>
      <div class="question-block"><span class="q-text">2. Which is a Rabi crop?</span>
        <label class="option-label"><input type="radio" name="q2" value="a"> Paddy</label>
        <label class="option-label"><input type="radio" name="q2" value="b"> Wheat</label>
      </div>
      <div class="question-block"><span class="q-text">3. First step of agriculture is:</span>
        <label class="option-label"><input type="radio" name="q3" value="a"> Sowing</label>
        <label class="option-label"><input type="radio" name="q3" value="b"> Preparation of soil</label>
      </div>
      <div class="question-block"><span class="q-text">4. 2,4-D is a:</span>
        <label class="option-label"><input type="radio" name="q4" value="a"> Weedicide</label>
        <label class="option-label"><input type="radio" name="q4" value="b"> Fungicide</label>
      </div>
      <div class="question-block"><span class="q-text">5. Separation of grain from chaff is:</span>
        <label class="option-label"><input type="radio" name="q5" value="a"> Threshing</label>
        <label class="option-label"><input type="radio" name="q5" value="b"> Harvesting</label>
      </div>
      <div class="question-block"><span class="q-text">6. Watering crops is called:</span>
        <label class="option-label"><input type="radio" name="q6" value="a"> Irrigation</label>
        <label class="option-label"><input type="radio" name="q6" value="b"> Sowing</label>
      </div>
      <div class="question-block"><span class="q-text">7. Earthworm is friend of farmer?</span>
        <label class="option-label"><input type="radio" name="q7" value="a"> Yes</label>
        <label class="option-label"><input type="radio" name="q7" value="b"> No</label>
      </div>
      <div class="question-block"><span class="q-text">8. Manure is:</span>
        <label class="option-label"><input type="radio" name="q8" value="a"> Organic</label>
        <label class="option-label"><input type="radio" name="q8" value="b"> Inorganic</label>
      </div>
      <div class="question-block"><span class="q-text">9. NPK stands for:</span>
        <label class="option-label"><input type="radio" name="q9" value="a"> Nitrogen Phos. Potas.</label>
        <label class="option-label"><input type="radio" name="q9" value="b"> Neon Potas. Krypton</label>
      </div>
      <div class="question-block"><span class="q-text">10. Silos are used for:</span>
        <label class="option-label"><input type="radio" name="q10" value="a"> Irrigation</label>
        <label class="option-label"><input type="radio" name="q10" value="b"> Storage</label>
      </div>

      <button class="submit-btn" onclick="checkQuiz('quiz-sci-1', ['b','b','b','a','a','a','a','a','a','b'])">Submit Quiz</button>
      
      <div id="result-quiz-sci-1" class="score-card">
        <h3>Your Score</h3>
        <h1 id="score-val-quiz-sci-1" style="font-size:40px;">0/10</h1>
      </div>
    </form>
  </div>
</div>

<script>
  // =============================================
  // NAVIGATION LOGIC (DO NOT EDIT)
  // =============================================
  window.handleCourseNav = function(subState) {
    document.querySelectorAll('.course-section').forEach(el => el.classList.remove('active'));
    if (subState && subState.section) {
      const target = document.getElementById('section-' + subState.section);
      if(target) target.classList.add('active');
      else document.getElementById('section-home').classList.add('active');
    } else {
      document.getElementById('section-home').classList.add('active');
    }
  };

  function goToSection(secId) {
    window.switchView('view-content', { section: secId });
    window.handleCourseNav({ section: secId });
    // Scroll to top
    window.scrollTo(0, 0);
  }

  // =============================================
  // QUIZ LOGIC
  // =============================================
  function checkQuiz(formId, correctAnswers) {
    let score = 0;
    const total = correctAnswers.length;
    const form = document.getElementById(formId);
    
    // Loop through questions
    for(let i=1; i<=total; i++) {
      const radios = form.elements['q'+i];
      let userVal = null;
      // Get checked value
      for(const r of radios) { if(r.checked) userVal = r.value; }
      
      // Check if correct
      if(userVal === correctAnswers[i-1]) {
        score++;
      }
    }

    // Show Result
    const resultBox = document.getElementById('result-' + formId);
    const scoreText = document.getElementById('score-val-' + formId);
    
    resultBox.style.display = "block";
    scoreText.innerText = score + " / " + total;
    
    // Scroll to result
    resultBox.scrollIntoView({behavior: "smooth"});
  }
</script>
